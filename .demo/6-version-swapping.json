{
  "$schema": "https://demotime.show/demo-time.schema.json",
  "title": "6. Version Swapping",
  "description": "As of the package's 16.2.0 release, you can now swap between versions 6, 7, and 8 of TinyMCE",
  "version": 2,
  "demos": [
    {
      "id": "demo-mfyglraq-o1hd",
      "title": "Show the help plugin",
      "steps": [
        {
          "action": "openWebsite",
          "url": "http://localhost:11070/umbraco/section/content/workspace/document/edit/73b03bcf-3016-4543-8bab-269b78abe844/invariant",
          "openInVSCode": false
        }
      ],
      "description": "We can see the version inside the help plugin for TinyMCE"
    },
    {
      "id": "demo-mfyi79q4-0lml",
      "title": "Overwriting the TinyMCE.Lib",
      "steps": [
        {
          "action": "highlight",
          "path": "Plugins/TinyMceCloudCdn/umbraco-package.json",
          "position": "10",
          "highlightWholeLine": true,
          "zoom": 4
        }
      ]
    },
    {
      "id": "demo-mg1cniq3-ch4d",
      "title": "Show the manifests file with version 6",
      "steps": [
        {
          "action": "highlight",
          "path": "Plugins/TinyMceCloudCdn/manifests.js",
          "position": "4:14",
          "highlightWholeLine": true,
          "zoom": 4
        }
      ],
      "description": "We need a manifest file that gives us the right versions of TinyMCE"
    },
    {
      "id": "demo-mfyi2vvi-m9l0",
      "title": "Adding the version to the manifest file",
      "steps": [
        {
          "action": "replace",
          "path": "Plugins/TinyMceCloudCdn/manifests.js",
          "content": "  script1.src = `https://cdn.tiny.cloud/1/${apiKey}/tinymce/8/tinymce.min.js`;",
          "position": "5",
          "highlightWholeLine": true
        },
        {
          "action": "highlight",
          "path": "Plugins/TinyMceCloudCdn/manifests.js",
          "position": "5",
          "highlightWholeLine": true,
          "zoom": 4
        }
      ],
      "description": "We need a manifest file that gives us the right versions of TinyMCE"
    },
    {
      "id": "demo-mfyi5ogp-7p3s",
      "title": "Adding the icons to the manifests file",
      "steps": [
        {
          "action": "replace",
          "path": "Plugins/TinyMceCloudCdn/manifests.js",
          "position": "11",
          "highlightWholeLine": true,
          "content": "  script2.src = `https://cdn.tiny.cloud/1/${apiKey}/tinymce/8/icons/default/icons.min.js`;"
        },
        {
          "action": "highlight",
          "path": "Plugins/TinyMceCloudCdn/manifests.js",
          "position": "11",
          "highlightWholeLine": true,
          "zoom": 4
        }
      ],
      "description": "We need a manifest file that gives us the right versions of TinyMCE"
    },
    {
      "id": "demo-mfyiakot-zjki",
      "title": "Update the App Settings",
      "steps": [
        {
          "action": "replace",
          "path": "TinyMceUmbraco16.Web/appsettings.json",
          "content": "    \"tinyMceVersion\": \"8\",",
          "position": "37",
          "highlightWholeLine": true
        },
        {
          "action": "highlight",
          "path": "TinyMceUmbraco16.Web/appsettings.json",
          "zoom": 8,
          "position": "37",
          "highlightWholeLine": true
        }
      ],
      "description": "We need to tell it what version of TinyMCE to use in our appSettings.json"
    },
    {
      "id": "demo-mg5l2au6-nl44",
      "title": "Show the help plugin again",
      "steps": [
        {
          "action": "closeTerminal",
          "terminalId": "demo-build"
        },
        {
          "action": "waitForTimeout",
          "timeout": 5
        },
        {
          "action": "executeTerminalCommand",
          "terminalId": "demo-build",
          "command": "cd Plugins"
        },
        {
          "action": "executeTerminalCommand",
          "command": "npm run build",
          "terminalId": "demo-build"
        },
        {
          "action": "waitForTimeout",
          "timeout": 5000
        },
        {
          "action": "executeTerminalCommand",
          "command": "cd ../TinyMceUmbraco16.Web",
          "terminalId": "demo-build"
        },
        {
          "action": "executeTerminalCommand",
          "command": "dotnet run",
          "terminalId": "demo-build"
        },
        {
          "action": "waitForTimeout",
          "timeout": 10000
        },
        {
          "action": "openWebsite",
          "url": "http://localhost:11070/umbraco/section/content/workspace/document/edit/73b03bcf-3016-4543-8bab-269b78abe844/invariant",
          "openInVSCode": false
        }
      ],
      "description": "We can see the version inside the help plugin for TinyMCE"
    }
  ]
}